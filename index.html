<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Survival Game</title>
  <link rel="stylesheet" href="./src/style.css">
  <link rel="stylesheet" href="./src/achievements.css">
</head>

<body>
  <div id="game-container">
    <canvas id="gameCanvas"></canvas>

    <!-- UI Layer -->
    <div id="ui-layer">
      <div id="top-buttons">
        <button id="btn-inventory" class="ui-btn">ğŸ“¦ Inventory (E)</button>
        <button id="btn-crafting" class="ui-btn">ğŸ”¨ Craft (C)</button>
        <button id="btn-fullscreen" class="ui-btn">â›¶ Fullscreen</button>
      </div>

      <div id="day-night-indicator">Day 1 - 12:00</div>

      <div id="Hotbar-container">
        <!-- slots generated by JS -->
      </div>

      <div id="inventory-screen" class="hidden">
        <div class="panel-header">Inventory</div>
        <div id="inventory-grid"></div>
        <div class="panel-header">Crafting</div>
        <div id="crafting-list"></div>
      </div>

      <!-- Storage Screen -->
      <div id="storage-screen" class="hidden">
        <div class="storage-container">
          <div class="storage-section">
            <div class="panel-header">Storage</div>
            <div id="storage-grid"></div>
          </div>
          <div class="storage-section">
            <div class="panel-header">Inventory</div>
            <div id="storage-inv-grid"></div>
          </div>
        </div>
        <div class="hint-text">ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ç§»å‹•</div>
      </div>

      <!-- Furnace Screen -->
      <div id="furnace-screen" class="hidden ui-panel">
        <div class="furnace-container">
          <div class="furnace-main">
            <div class="panel-header">Furnace</div>
            <div class="furnace-slots">
              <div class="furnace-slot-group">
                <div id="furnace-slot-0" class="slot" data-label="Input"></div>
              </div>
              <div class="furnace-arrow">â†’</div>
              <div class="furnace-slot-group">
                <div id="furnace-slot-2" class="slot" data-label="Output"></div>
              </div>
            </div>
            <div id="smelting-progress-container">
              <div id="smelting-progress-bar"></div>
            </div>
            <div class="furnace-fuel-area">
              <div id="furnace-slot-1" class="slot" data-label="Fuel"></div>
              <div id="furnace-fuel-info">
                <div id="fuel-flame">ğŸ”¥</div>
                <div id="fuel-time">0s</div>
              </div>
            </div>
          </div>
          <div class="storage-section">
            <div class="panel-header">Inventory</div>
            <div id="furnace-inv-grid"></div>
          </div>
        </div>
      </div>

      <!-- Game Over Screen -->
      <div id="game-over-screen" class="hidden">
        <h1>YOU DIED</h1>
        <p>Day <span id="death-day">1</span> - Survived <span id="death-time">0</span> minutes</p>
        <button id="btn-respawn">Respawn</button>
      </div>

      <!-- Controls Help Screen -->
      <div id="help-screen" class="hidden">
        <div class="panel-header">Controls / æ“ä½œæ–¹æ³•</div>
        <div class="help-content">
          <div class="help-section">
            <h3>ğŸ’» PC</h3>
            <ul>
              <li><span>WASD / çŸ¢å°</span>: ç§»å‹•</li>
              <li><span>B</span>: ã‚¢ã‚¤ãƒ†ãƒ ã‚’æ‹¾ã† / å‹•ç‰©ã‚’æ”»æ’ƒ</li>
              <li><span>Space</span>: æ­¦å™¨æ”»æ’ƒ / è³‡æºæ¡æ˜</li>
              <li><span>E</span>: ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª</li>
              <li><span>C</span>: ã‚¯ãƒ©ãƒ•ãƒˆ</li>
              <li><span>å³ã‚¯ãƒªãƒƒã‚¯</span>: å»ºç¯‰ç‰©ã‚’è¨­ç½®</li>
            </ul>
          </div>
          <div class="help-section">
            <h3>ğŸ“± Mobile</h3>
            <ul>
              <li><span>ã‚¸ãƒ§ã‚¤ã‚¹ãƒ†ã‚£ãƒƒã‚¯</span>: ç§»å‹•</li>
              <li><span>OBJãƒœã‚¿ãƒ³</span>: æ‹¾ã† > å»ºç¯‰ > é–‹ã</li>
              <li><span>ACTãƒœã‚¿ãƒ³</span>: æ­¦å™¨æ”»æ’ƒ / è³‡æºæ¡æ˜</li>
            </ul>
          </div>
        </div>
        <button id="btn-help-close" class="ui-btn">Close</button>
      </div>

      <button id="btn-help" class="ui-btn">â” Controls</button>
    </div>

    <!-- Drag Ghost -->
    <div id="drag-ghost" class="hidden"></div>

    <!-- Mobile Controls -->
    <div id="mobile-controls" class="hidden">
      <!-- Left: Virtual Joystick -->
      <div id="joystick-container">
        <div id="joystick-zone">
          <div id="joystick-stick"></div>
        </div>
      </div>

      <!-- Right: 4-Button Layout -->
      <div id="mobile-buttons">
        <!-- Top button -->
        <div id="btn-attack" class="mobile-btn btn-primary">
          <span class="btn-icon">âš”ï¸</span>
          <span class="btn-label">ACT</span>
        </div>

        <!-- Bottom 3 buttons -->
        <div id="mobile-buttons-bottom">
          <div id="btn-pickup" class="mobile-btn btn-secondary">
            <span class="btn-icon">ğŸ“¦</span>
            <span class="btn-label">PICK</span>
          </div>
          <div id="btn-interact" class="mobile-btn btn-secondary">
            <span class="btn-icon">ğŸ”§</span>
            <span class="btn-label">USE</span>
          </div>
          <div id="btn-mine" class="mobile-btn btn-secondary">
            <span class="btn-icon">â›ï¸</span>
            <span class="btn-label">MINE</span>
          </div>
        </div>
      </div>

      <!-- Menu Button (replaces top buttons on mobile) -->
      <button id="btn-mobile-menu" class="mobile-btn btn-menu">â˜°</button>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="menu-overlay">
      <div class="menu-box">
        <h1>SURVIVAL GAME</h1>
        <div class="menu-buttons">
          <button id="btn-new-game" class="menu-btn primary">New Game</button>
          <button id="btn-load-game" class="menu-btn" disabled>Load Game</button>
          <button id="btn-settings" class="menu-btn">Settings</button>
        </div>
        <p class="version-text">v0.2.0 - Phase 1</p>
      </div>
    </div>

    <!-- Pause Menu -->
    <div id="pause-menu" class="menu-overlay hidden">
      <div class="menu-box">
        <h2>PAUSED</h2>
        <div class="menu-buttons">
          <button id="btn-resume" class="menu-btn primary">Resume</button>
          <button id="btn-save" class="menu-btn">Save Game</button>
          <button id="btn-to-mainmenu" class="menu-btn danger">Exit directly to Menu</button>
        </div>
      </div>
    </div>

    <!-- Save Slot Selection Screen -->
    <div id="save-slot-screen" class="menu-overlay hidden">
      <div class="menu-box">
        <h2 id="slot-screen-title">ã‚»ãƒ¼ãƒ–ã‚¹ãƒ­ãƒƒãƒˆé¸æŠ</h2>
        <div id="save-slot-list" class="save-slot-list">
          <!-- Slots generated by JS -->
        </div>
        <div class="menu-buttons">
          <button id="btn-slot-cancel" class="menu-btn">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        </div>
      </div>
    </div>

    <!-- Confirm Dialog -->
    <div id="confirm-dialog" class="menu-overlay hidden">
      <div class="menu-box dialog-box">
        <h3 id="confirm-title">ç¢ºèª</h3>
        <p id="confirm-message">æœ¬å½“ã«ä¸Šæ›¸ãã—ã¾ã™ã‹ï¼Ÿ</p>
        <div class="menu-buttons">
          <button id="btn-confirm-yes" class="menu-btn danger">ã¯ã„</button>
          <button id="btn-confirm-no" class="menu-btn">ã„ã„ãˆ</button>
        </div>
      </div>
    </div>

    <!-- Recipe Book -->
    <div id="recipe-book" class="hidden">
      <div class="panel-header">
        <span>Recipe Book</span>
        <button id="btn-recipe-close" class="close-icon">Ã—</button>
      </div>
      <div id="recipe-list" class="recipe-list-container">
        <!-- Recipes generated by JS -->
      </div>
    </div>

    <!-- UI Button for Recipe Book -->
    <button id="btn-recipe-book" class="ui-icon-btn">ğŸ“–</button>

    <!-- Mobile Menu (Updated) -->
    <div id="mobile-menu" class="hidden">
      <div class="menu-content">
        <h2>Menu</h2>
        <button id="btn-menu-inventory" class="menu-item">ğŸ“¦ Inventory</button>
        <button id="btn-menu-crafting" class="menu-item">ğŸ”¨ Crafting</button>
        <button id="btn-menu-help" class="menu-item">â” Controls</button>
        <button id="btn-menu-close" class="menu-item btn-close">âœ• Close</button>
      </div>
    </div>
    <!-- Achievement Notification -->
    <div id="achievement-notification" class="hidden">
      <div class="icon">ğŸ†</div>
      <div class="content">
        <div class="title">Achievement Unlocked!</div>
        <div class="desc">Description here</div>
      </div>
    </div>

    <!-- Achievement Screen (List) -->
    <div id="achievement-screen" class="hidden menu-overlay">
      <div class="menu-box large">
        <div class="panel-header">
          <span>Achievements</span>
          <button id="btn-achievement-close" class="close-icon">Ã—</button>
        </div>
        <div id="achievement-list">
          <!-- Generated by JS -->
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>